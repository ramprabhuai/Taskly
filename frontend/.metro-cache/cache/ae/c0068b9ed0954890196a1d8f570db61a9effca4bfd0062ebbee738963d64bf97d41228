{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":35,"index":184}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    user: null,\n    isLoading: true,\n    isAuthenticated: false,\n    login: async () => {},\n    register: async () => {},\n    guestLogin: async () => {},\n    logout: async () => {},\n    refreshUser: async () => {},\n    setUser: () => {}\n  });\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          const userData = await _utilsApi.api.getMe();\n          setUser(userData);\n        }\n      } catch {\n        await _utilsApi.api.clearToken();\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const data = await _utilsApi.api.login(email, password);\n      setUser(data.user);\n    };\n    const register = async (email, password, name) => {\n      const data = await _utilsApi.api.register(email, password, name);\n      setUser(data.user);\n    };\n    const guestLogin = async () => {\n      const data = await _utilsApi.api.guestLogin();\n      setUser(data.user);\n    };\n    const logout = async () => {\n      await _utilsApi.api.clearToken();\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      try {\n        const userData = await _utilsApi.api.getMe();\n        setUser(userData);\n      } catch {}\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated: !!user,\n        login,\n        register,\n        guestLogin,\n        logout,\n        refreshUser,\n        setUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this);\n  }\n  const useAuth = () => (0, _react.useContext)(AuthContext);\n});","lineCount":99,"map":[[13,2,47,0,"exports"],[13,9,47,0],[13,10,47,0,"AuthProvider"],[13,22,47,0],[13,25,47,0,"AuthProvider"],[13,37,47,0],[14,2,113,0,"Object"],[14,8,113,0],[14,9,113,0,"defineProperty"],[14,23,113,0],[14,24,113,0,"exports"],[14,31,113,0],[15,4,113,0,"enumerable"],[15,14,113,0],[16,4,113,0,"get"],[16,7,113,0],[16,18,113,0,"get"],[16,19,113,0],[17,6,113,0],[17,13,113,0,"useAuth"],[17,20,113,0],[18,4,113,0],[19,2,113,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_utilsApi"],[23,15,3,0],[23,18,3,0,"require"],[23,25,3,0],[23,26,3,0,"_dependencyMap"],[23,40,3,0],[24,2,3,35],[24,6,3,35,"_reactJsxDevRuntime"],[24,25,3,35],[24,28,3,35,"require"],[24,35,3,35],[24,36,3,35,"_dependencyMap"],[24,50,3,35],[25,2,35,0],[25,8,35,6,"AuthContext"],[25,19,35,17],[25,35,35,20],[25,39,35,20,"createContext"],[25,45,35,33],[25,46,35,33,"createContext"],[25,59,35,33],[25,61,35,51],[26,4,36,2,"user"],[26,8,36,6],[26,10,36,8],[26,14,36,12],[27,4,37,2,"isLoading"],[27,13,37,11],[27,15,37,13],[27,19,37,17],[28,4,38,2,"isAuthenticated"],[28,19,38,17],[28,21,38,19],[28,26,38,24],[29,4,39,2,"login"],[29,9,39,7],[29,11,39,9],[29,17,39,9,"login"],[29,18,39,9],[29,23,39,21],[29,24,39,22],[29,25,39,23],[30,4,40,2,"register"],[30,12,40,10],[30,14,40,12],[30,20,40,12,"register"],[30,21,40,12],[30,26,40,24],[30,27,40,25],[30,28,40,26],[31,4,41,2,"guestLogin"],[31,14,41,12],[31,16,41,14],[31,22,41,14,"guestLogin"],[31,23,41,14],[31,28,41,26],[31,29,41,27],[31,30,41,28],[32,4,42,2,"logout"],[32,10,42,8],[32,12,42,10],[32,18,42,10,"logout"],[32,19,42,10],[32,24,42,22],[32,25,42,23],[32,26,42,24],[33,4,43,2,"refreshUser"],[33,15,43,13],[33,17,43,15],[33,23,43,15,"refreshUser"],[33,24,43,15],[33,29,43,27],[33,30,43,28],[33,31,43,29],[34,4,44,2,"setUser"],[34,11,44,9],[34,13,44,11,"setUser"],[34,14,44,11],[34,19,44,17],[34,20,44,18],[35,2,45,0],[35,3,45,1],[35,4,45,2],[36,2,47,7],[36,11,47,16,"AuthProvider"],[36,23,47,28,"AuthProvider"],[36,24,47,29],[37,4,47,31,"children"],[38,2,47,71],[38,3,47,72],[38,5,47,74],[39,4,48,2],[39,10,48,8],[39,11,48,9,"user"],[39,15,48,13],[39,17,48,15,"setUser"],[39,24,48,22],[39,25,48,23],[39,28,48,26],[39,32,48,26,"useState"],[39,38,48,34],[39,39,48,34,"useState"],[39,47,48,34],[39,49,48,48],[39,53,48,52],[39,54,48,53],[40,4,49,2],[40,10,49,8],[40,11,49,9,"isLoading"],[40,20,49,18],[40,22,49,20,"setIsLoading"],[40,34,49,32],[40,35,49,33],[40,38,49,36],[40,42,49,36,"useState"],[40,48,49,44],[40,49,49,44,"useState"],[40,57,49,44],[40,59,49,45],[40,63,49,49],[40,64,49,50],[41,4,51,2],[41,8,51,2,"useEffect"],[41,14,51,11],[41,15,51,11,"useEffect"],[41,24,51,11],[41,26,51,12],[41,32,51,18],[42,6,52,4,"checkAuth"],[42,15,52,13],[42,16,52,14],[42,17,52,15],[43,4,53,2],[43,5,53,3],[43,7,53,5],[43,9,53,7],[43,10,53,8],[44,4,55,2],[44,10,55,8,"checkAuth"],[44,19,55,17],[44,22,55,20],[44,28,55,20,"checkAuth"],[44,29,55,20],[44,34,55,32],[45,6,56,4],[45,10,56,8],[46,8,57,6],[46,14,57,12,"token"],[46,19,57,17],[46,22,57,20],[46,28,57,26,"AsyncStorage"],[46,40,57,38],[46,41,57,38,"default"],[46,48,57,38],[46,49,57,39,"getItem"],[46,56,57,46],[46,57,57,47],[46,69,57,59],[46,70,57,60],[47,8,58,6],[47,12,58,10,"token"],[47,17,58,15],[47,19,58,17],[48,10,59,8],[48,16,59,14,"userData"],[48,24,59,22],[48,27,59,25],[48,33,59,31,"api"],[48,42,59,34],[48,43,59,34,"api"],[48,46,59,34],[48,47,59,35,"getMe"],[48,52,59,40],[48,53,59,41],[48,54,59,42],[49,10,60,8,"setUser"],[49,17,60,15],[49,18,60,16,"userData"],[49,26,60,24],[49,27,60,25],[50,8,61,6],[51,6,62,4],[51,7,62,5],[51,8,62,6],[51,14,62,12],[52,8,63,6],[52,14,63,12,"api"],[52,23,63,15],[52,24,63,15,"api"],[52,27,63,15],[52,28,63,16,"clearToken"],[52,38,63,26],[52,39,63,27],[52,40,63,28],[53,6,64,4],[53,7,64,5],[53,16,64,14],[54,8,65,6,"setIsLoading"],[54,20,65,18],[54,21,65,19],[54,26,65,24],[54,27,65,25],[55,6,66,4],[56,4,67,2],[56,5,67,3],[57,4,69,2],[57,10,69,8,"login"],[57,15,69,13],[57,18,69,16],[57,24,69,16,"login"],[57,25,69,23,"email"],[57,30,69,36],[57,32,69,38,"password"],[57,40,69,54],[57,45,69,59],[58,6,70,4],[58,12,70,10,"data"],[58,16,70,14],[58,19,70,17],[58,25,70,23,"api"],[58,34,70,26],[58,35,70,26,"api"],[58,38,70,26],[58,39,70,27,"login"],[58,44,70,32],[58,45,70,33,"email"],[58,50,70,38],[58,52,70,40,"password"],[58,60,70,48],[58,61,70,49],[59,6,71,4,"setUser"],[59,13,71,11],[59,14,71,12,"data"],[59,18,71,16],[59,19,71,17,"user"],[59,23,71,21],[59,24,71,22],[60,4,72,2],[60,5,72,3],[61,4,74,2],[61,10,74,8,"register"],[61,18,74,16],[61,21,74,19],[61,27,74,19,"register"],[61,28,74,26,"email"],[61,33,74,39],[61,35,74,41,"password"],[61,43,74,57],[61,45,74,59,"name"],[61,49,74,71],[61,54,74,76],[62,6,75,4],[62,12,75,10,"data"],[62,16,75,14],[62,19,75,17],[62,25,75,23,"api"],[62,34,75,26],[62,35,75,26,"api"],[62,38,75,26],[62,39,75,27,"register"],[62,47,75,35],[62,48,75,36,"email"],[62,53,75,41],[62,55,75,43,"password"],[62,63,75,51],[62,65,75,53,"name"],[62,69,75,57],[62,70,75,58],[63,6,76,4,"setUser"],[63,13,76,11],[63,14,76,12,"data"],[63,18,76,16],[63,19,76,17,"user"],[63,23,76,21],[63,24,76,22],[64,4,77,2],[64,5,77,3],[65,4,79,2],[65,10,79,8,"guestLogin"],[65,20,79,18],[65,23,79,21],[65,29,79,21,"guestLogin"],[65,30,79,21],[65,35,79,33],[66,6,80,4],[66,12,80,10,"data"],[66,16,80,14],[66,19,80,17],[66,25,80,23,"api"],[66,34,80,26],[66,35,80,26,"api"],[66,38,80,26],[66,39,80,27,"guestLogin"],[66,49,80,37],[66,50,80,38],[66,51,80,39],[67,6,81,4,"setUser"],[67,13,81,11],[67,14,81,12,"data"],[67,18,81,16],[67,19,81,17,"user"],[67,23,81,21],[67,24,81,22],[68,4,82,2],[68,5,82,3],[69,4,84,2],[69,10,84,8,"logout"],[69,16,84,14],[69,19,84,17],[69,25,84,17,"logout"],[69,26,84,17],[69,31,84,29],[70,6,85,4],[70,12,85,10,"api"],[70,21,85,13],[70,22,85,13,"api"],[70,25,85,13],[70,26,85,14,"clearToken"],[70,36,85,24],[70,37,85,25],[70,38,85,26],[71,6,86,4,"setUser"],[71,13,86,11],[71,14,86,12],[71,18,86,16],[71,19,86,17],[72,4,87,2],[72,5,87,3],[73,4,89,2],[73,10,89,8,"refreshUser"],[73,21,89,19],[73,24,89,22],[73,30,89,22,"refreshUser"],[73,31,89,22],[73,36,89,34],[74,6,90,4],[74,10,90,8],[75,8,91,6],[75,14,91,12,"userData"],[75,22,91,20],[75,25,91,23],[75,31,91,29,"api"],[75,40,91,32],[75,41,91,32,"api"],[75,44,91,32],[75,45,91,33,"getMe"],[75,50,91,38],[75,51,91,39],[75,52,91,40],[76,8,92,6,"setUser"],[76,15,92,13],[76,16,92,14,"userData"],[76,24,92,22],[76,25,92,23],[77,6,93,4],[77,7,93,5],[77,8,93,6],[77,14,93,12],[77,15,93,13],[78,4,94,2],[78,5,94,3],[79,4,96,2],[79,24,97,4],[79,28,97,4,"_reactJsxDevRuntime"],[79,47,97,4],[79,48,97,4,"jsxDEV"],[79,54,97,4],[79,56,97,5,"AuthContext"],[79,67,97,16],[79,68,97,17,"Provider"],[79,76,97,25],[80,6,97,26,"value"],[80,11,97,31],[80,13,97,33],[81,8,98,6,"user"],[81,12,98,10],[82,8,99,6,"isLoading"],[82,17,99,15],[83,8,100,6,"isAuthenticated"],[83,23,100,21],[83,25,100,23],[83,26,100,24],[83,27,100,25,"user"],[83,31,100,29],[84,8,101,6,"login"],[84,13,101,11],[85,8,102,6,"register"],[85,16,102,14],[86,8,103,6,"guestLogin"],[86,18,103,16],[87,8,104,6,"logout"],[87,14,104,12],[88,8,105,6,"refreshUser"],[88,19,105,17],[89,8,106,6,"setUser"],[90,6,107,4],[90,7,107,6],[91,6,107,6,"children"],[91,14,107,6],[91,16,108,7,"children"],[92,4,108,15],[93,6,108,15,"fileName"],[93,14,108,15],[93,16,108,15,"_jsxFileName"],[93,28,108,15],[94,6,108,15,"lineNumber"],[94,16,108,15],[95,6,108,15,"columnNumber"],[95,18,108,15],[96,4,108,15],[96,11,109,26],[96,12,109,27],[97,2,111,0],[98,2,113,7],[98,8,113,13,"useAuth"],[98,15,113,20],[98,18,113,23,"useAuth"],[98,19,113,23],[98,24,113,29],[98,28,113,29,"useContext"],[98,34,113,39],[98,35,113,39,"useContext"],[98,45,113,39],[98,47,113,40,"AuthContext"],[98,58,113,51],[98,59,113,52],[99,0,113,53],[99,3]],"functionMap":{"names":["<global>","createContext$argument_0.login","createContext$argument_0.register","createContext$argument_0.guestLogin","createContext$argument_0.logout","createContext$argument_0.refreshUser","createContext$argument_0.setUser","AuthProvider","useEffect$argument_0","checkAuth","login","register","guestLogin","logout","refreshUser","useAuth"],"mappings":"AAA;SCsC,cD;YEC,cF;cGC,cH;UIC,cJ;eKC,cL;WMC,QN;OOG;YCI;GDE;oBEE;GFY;gBGE;GHG;mBIE;GJG;qBKE;GLG;iBME;GNG;sBOE;GPK;CPiB;uBeE,6Bf"},"hasCjsExports":false},"type":"js/module"}]}